(this["webpackJsonpreact-pathing"]=this["webpackJsonpreact-pathing"]||[]).push([[0],{70:function(n,e,t){n.exports=t(83)},82:function(n,e,t){},83:function(n,e,t){"use strict";t.r(e);var r,o,a=t(0),c=t.n(a),i=t(7),u=t.n(i),l=t(10),E=t.n(l),f=t(18),s=t(21),d=t(109),O=t(8),m=t(9),D=t(14);!function(n){n[n.FILL_MODE=1]="FILL_MODE",n[n.CLEAR_MODE=2]="CLEAR_MODE",n[n.START_NODE_MODE=3]="START_NODE_MODE",n[n.TARGET_NODE_MODE=4]="TARGET_NODE_MODE",n[n.PATH_NODE_MODE=5]="PATH_NODE_MODE",n[n.DEFAULT_NODE_MODE=6]="DEFAULT_NODE_MODE"}(r||(r={}));var h=(o={},Object(D.a)(o,r.FILL_MODE,r.CLEAR_MODE),Object(D.a)(o,r.CLEAR_MODE,r.FILL_MODE),Object(D.a)(o,r.START_NODE_MODE,r.START_NODE_MODE),Object(D.a)(o,r.TARGET_NODE_MODE,r.TARGET_NODE_MODE),Object(D.a)(o,r.PATH_NODE_MODE,r.FILL_MODE),Object(D.a)(o,r.DEFAULT_NODE_MODE,r.CLEAR_MODE),o),_=[r.FILL_MODE,r.CLEAR_MODE,r.START_NODE_MODE,r.TARGET_NODE_MODE],b=[r.START_NODE_MODE,r.TARGET_NODE_MODE],p=t(65),M=Object(p.a)({});function v(){var n=Object(O.a)(["\n  width: calc(100% - ","rem);\n  height: calc(100% - ","rem);\n  padding: ","rem;\n  background-color: ",";\n"]);return v=function(){return n},n}var T=m.b.main(v(),8,8,4,M.palette.background.paper);function g(){var n=Object(O.a)(["\n      transition-delay: ","ms;\n      background-color: yellowgreen;\n      border-color: darkgreen;\n    "]);return g=function(){return n},n}function j(){var n=Object(O.a)(["\n      background-color: red;\n      border-color: red;\n    "]);return j=function(){return n},n}function A(){var n=Object(O.a)(["\n      background-color: green;\n      border-color: green;\n    "]);return A=function(){return n},n}function x(){var n=Object(O.a)(["\n      background-color: black;\n      border-color: black;\n    "]);return x=function(){return n},n}function y(){var n=Object(O.a)(["\n  display: inline-block;\n  width: calc(","em - 0.0625rem);\n  height: calc(","em - 0.0625rem);\n  background-color: transparent;\n  border: 0.0625rem solid;\n  border-color: grey;\n  margin-bottom: -0.0625rem;\n  margin-right: -0.0625rem;\n  transition-property: background-color border-color;\n  transition-duration: 100ms;\n  transition-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);\n\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n"]);return y=function(){return n},n}var N=m.b.div(y(),2,2,(function(n){return n.mode===r.FILL_MODE&&Object(m.a)(x())}),(function(n){return n.mode===r.START_NODE_MODE&&Object(m.a)(A())}),(function(n){return n.mode===r.TARGET_NODE_MODE&&Object(m.a)(j())}),(function(n){var e=n.mode,t=n.pathIndex;return e===r.PATH_NODE_MODE&&Object(m.a)(g(),60*(t||0))})),k=function(n,e,t){e.forEach((function(e){return n.addEventListener(e,t,!1)}))};function L(){var n=Object(O.a)(["\n  width: 100%;\n  height: 100%;\n  white-space: pre;\n  user-select: none;\n"]);return L=function(){return n},n}var R=m.b.section(L());function w(){var n=Object(O.a)(["\n  margin-top: -0.25rem;\n"]);return w=function(){return n},n}var S=m.b.div(w()),C=t(108),I=t(114),F=t(112),P=t(113),G=t(111),H=t(60),U=t.n(H),q=t(61),B=t.n(q),z=t(58),J=t.n(z),V=t(59),W=t.n(V),$=Object(C.a)((function(n){return Object(I.a)({speedDial:{position:"absolute",bottom:n.spacing(2),right:n.spacing(2)}})})),K=function(n){n.mode;var e=n.setMode,t=n.runPather,o=$(),a=c.a.useState(!1),i=Object(s.a)(a,2),u=i[0],l=i[1],E=[{icon:c.a.createElement(J.a,null),name:"Place target node",onClick:function(){return e(r.TARGET_NODE_MODE)}},{icon:c.a.createElement(W.a,null),name:"Run dijkstra",onClick:function(){return t("dijkstra")}}],f=function(){l(!1)};return c.a.createElement(F.a,{ariaLabel:"SpeedDial openIcon example",className:o.speedDial,icon:c.a.createElement(P.a,{icon:c.a.createElement(U.a,null),openIcon:c.a.createElement(B.a,null)}),onClose:f,onOpen:function(){l(!0)},open:u},E.map((function(n){return c.a.createElement(G.a,{key:n.name,icon:n.icon,tooltipTitle:n.name,onClick:function(){f(),n.onClick()}})})))},Q=t(16),X=t.n(Q),Y=function(n,e,t){var r=e.x,o=e.y,a=e.index,c=e.mode,i=t||h[c];return n((function(n){var e=X()(n);return e[r][o]={x:r,y:o,index:void 0===a?e[r][o].index:a,mode:i},e})),i},Z=t(44),nn=function(n,e){var t,o,a=n.flat();if(a.length>1){if(t=a.find((function(n){return n.mode===r.START_NODE_MODE})),o=a.find((function(n){return n.mode===r.TARGET_NODE_MODE})),!t){var c={x:Math.floor(Math.random()*n.length),y:Math.floor(Math.random()*n[0].length)};t=Object(Z.a)({},n[c.x][c.y],{},c,{mode:r.START_NODE_MODE})}if(!o){for(var i={x:Math.floor(Math.random()*n.length),y:Math.floor(Math.random()*n[0].length)};t&&t.x===i.x&&t.y===i.y;)i.x=Math.floor(Math.random()*n.length),i.y=Math.floor(Math.random()*n[0].length);o=Object(Z.a)({},n[i.x][i.y],{},i,{mode:r.TARGET_NODE_MODE})}var u=X()(n);u[t.x][t.y]=t,u[o.x][o.y]=o,e(u)}return{startNode:t,targetNode:o}},en=function(n){var e=X()(n);return n.flat().filter((function(n){return n.mode===r.PATH_NODE_MODE})).forEach((function(n){var t=n.x,o=n.y,a=n.index;e[t][o]={x:t,y:o,index:a,mode:r.CLEAR_MODE}})),e},tn=t(63),rn=t(64),on=function(){function n(){Object(tn.a)(this,n),this.collection=void 0,this.collection=[]}return Object(rn.a)(n,[{key:"enqueue",value:function(n){if(this.isEmpty())this.collection.push(n);else{for(var e=!1,t=1;t<=this.collection.length;t++)if(n[1]<this.collection[t-1][1]){this.collection.splice(t-1,0,n),e=!0;break}e||this.collection.push(n)}}},{key:"dequeue",value:function(){return this.collection.shift()}},{key:"isEmpty",value:function(){return 0===this.collection.length}}]),n}(),an=function(n){return!(!n||n.mode===r.FILL_MODE)&&n},cn=function(n,e,t){var r=n.x,o=n.y;return[t.has(e[r][o-1])&&an(e[r][o-1]),e[r+1]&&t.has(e[r+1][o])&&an(e[r+1][o]),t.has(e[r][o+1])&&an(e[r][o+1]),e[r-1]&&t.has(e[r-1][o])&&an(e[r-1][o])].filter(Boolean)},un={dijkstra:function(n){var e=n.startNode,t=n.endNode,r=n.grid,o=r.flat(),a=new Set(o),c=o.map((function(n){return n.index===e.index?0:1/0})),i=new Map,u=new on;u.enqueue([e,0]);for(var l=function(){var n=u.dequeue()[0];if(i.has(t)||!a.has(n))return"break";cn(n,r,a).forEach((function(e){var t=c[n.index]+1;t<c[e.index]&&(c[e.index]=t,i.set(e,n),u.enqueue([e,t]),a.delete(n))}))};!u.isEmpty();){if("break"===l())break}for(var E=[t],f=t;f.index!==e.index;){var s=i.get(f);if(!s)break;E.unshift(s),f=s}return E}},ln=function(n,e,t,o){return t&&o&&e((function(e){var a=un[n]({startNode:t,endNode:o,grid:e}),c=X()(en(e)),i=0;return a.shift(),a.pop(),a.filter(Boolean).forEach((function(n){var t=n.x,o=n.y,a=n.index;c[t][o]={x:t,y:o,index:a,pathIndex:e[t][o].mode===r.PATH_NODE_MODE?0:i++,mode:r.PATH_NODE_MODE}})),c}))},En=function(n){var e=n.grid,t=n.setGrid,o=n.mainElement,i=Object(a.useState)(!1),u=Object(s.a)(i,2),l=u[0],d=u[1],O=Object(a.useState)(r.DEFAULT_NODE_MODE),m=Object(s.a)(O,2),D=m[0],p=m[1];Object(a.useEffect)((function(){o&&(k(o,["mousedown","touchstart"],(function(){return d(!0)})),k(o,["mouseup","touchend"],(function(){d(!1),p(r.DEFAULT_NODE_MODE)})))}),[o]);var M=e.flat(),v=M.find((function(n){return n.mode===r.START_NODE_MODE})),T=M.find((function(n){return n.mode===r.TARGET_NODE_MODE}));return Object(a.useEffect)((function(){v||T||nn(e,t)}),[e,t]),c.a.createElement(R,null,e&&e.map((function(n,e){return c.a.createElement(S,{key:e},n.map((function(n){return c.a.createElement(N,Object.assign({},n,{key:n.index,onMouseDown:function(){return p(Y(t,n,D===r.DEFAULT_NODE_MODE?h[n.mode]:D))},onMouseEnter:Object(f.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l&&Y(t,n,_.includes(D)&&D));case 1:case"end":return e.stop()}}),e)}))),onMouseLeave:Object(f.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l&&b.includes(D)&&Y(t,n,r.CLEAR_MODE));case 1:case"end":return e.stop()}}),e)})))}))})))})),c.a.createElement(K,{mode:D,setMode:p,runPather:function(n){ln(n,t,v,T)}}))},fn=function(n){return n?parseFloat(getComputedStyle(n).fontSize):16},sn=function(n){return 4*fn(n)*2},dn=function(n){return n?Promise.resolve({mainElementStyle:window.getComputedStyle(n),dimensionOffset:sn(n)}).then((function(n){var e=n.mainElementStyle,t=n.dimensionOffset;return[parseInt(e.getPropertyValue("width"))-t,parseInt(e.getPropertyValue("height"))-t]})):Promise.resolve([0,0])},On=t(66),mn=function(n){return Object(On.a)(Array(n)).map((function(n,e){return e}))},Dn=function(){var n=Object(f.a)(E.a.mark((function n(e){var t,o,a,c,i;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,dn(e);case 2:return t=n.sent,o=fn(e),a=2*o,c=Math.ceil(t[1]/a),i=Math.ceil(t[0]/a),n.abrupt("return",mn(c).map((function(n){return mn(i).map((function(e){return{x:n,y:e,index:n*i+e,mode:r.CLEAR_MODE}}))})));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),hn=document.getElementById("root"),_n=function(){var n=Object(a.useState)([[]]),e=Object(s.a)(n,2),t=e[0],r=e[1];return Object(a.useEffect)((function(){(function(){var n=Object(f.a)(E.a.mark((function n(){return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=r,n.next=3,Dn(hn);case 3:return n.t1=n.sent,n.abrupt("return",(0,n.t0)(n.t1));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[]),c.a.createElement(d.a,{theme:M},c.a.createElement(T,null,c.a.createElement(En,{grid:t,setGrid:Object(a.useCallback)(r,[hn]),mainElement:hn})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(82);u.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(_n,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[70,1,2]]]);
//# sourceMappingURL=main.2a5e9f27.chunk.js.map