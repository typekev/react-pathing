(this["webpackJsonpreact-pathing"]=this["webpackJsonpreact-pathing"]||[]).push([[0],{86:function(e,n,t){e.exports=t(99)},98:function(e,n,t){},99:function(e,n,t){"use strict";t.r(n);var r,a,o=t(0),c=t.n(o),i=t(8),u=t.n(i),l=t(16),s=t.n(l),E=t(29),f=t(21),O=t(147),d=t(14),m=t(15),p=t(22);!function(e){e[e.FILL_MODE=1]="FILL_MODE",e[e.CLEAR_MODE=2]="CLEAR_MODE",e[e.START_NODE_MODE=3]="START_NODE_MODE",e[e.TARGET_NODE_MODE=4]="TARGET_NODE_MODE",e[e.PATH_NODE_MODE=5]="PATH_NODE_MODE",e[e.DEFAULT_NODE_MODE=6]="DEFAULT_NODE_MODE"}(r||(r={}));var h=(a={},Object(p.a)(a,r.FILL_MODE,r.CLEAR_MODE),Object(p.a)(a,r.CLEAR_MODE,r.FILL_MODE),Object(p.a)(a,r.START_NODE_MODE,r.START_NODE_MODE),Object(p.a)(a,r.TARGET_NODE_MODE,r.TARGET_NODE_MODE),Object(p.a)(a,r.PATH_NODE_MODE,r.FILL_MODE),Object(p.a)(a,r.DEFAULT_NODE_MODE,r.CLEAR_MODE),a),D=[r.FILL_MODE,r.CLEAR_MODE,r.START_NODE_MODE,r.TARGET_NODE_MODE],b=[r.START_NODE_MODE,r.TARGET_NODE_MODE],_=t(78),M=Object(_.a)({});function v(){var e=Object(d.a)(["\n  width: calc(100% - ","rem);\n  height: calc(100% - ","rem);\n  padding: ","rem;\n  background-color: ",";\n"]);return v=function(){return e},e}var g=m.b.main(v(),8,8,4,M.palette.background.paper);function T(){var e=Object(d.a)(["\n      transition-delay: ","ms;\n      background-color: yellowgreen;\n      border-color: darkgreen;\n    "]);return T=function(){return e},e}function j(){var e=Object(d.a)(["\n      background-color: red;\n      border-color: red;\n    "]);return j=function(){return e},e}function y(){var e=Object(d.a)(["\n      background-color: green;\n      border-color: green;\n    "]);return y=function(){return e},e}function x(){var e=Object(d.a)(["\n      background-color: black;\n      border-color: black;\n    "]);return x=function(){return e},e}function A(){var e=Object(d.a)(["\n  display: inline-block;\n  width: calc(","em - 0.0625rem);\n  height: calc(","em - 0.0625rem);\n  background-color: transparent;\n  border: 0.0625rem solid;\n  border-color: grey;\n  margin-bottom: -0.0625rem;\n  margin-right: -0.0625rem;\n  transition-property: background-color border-color;\n  transition-duration: 100ms;\n  transition-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);\n\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n"]);return A=function(){return e},e}var N=m.b.div(A(),2,2,(function(e){return e.mode===r.FILL_MODE&&Object(m.a)(x())}),(function(e){return e.mode===r.START_NODE_MODE&&Object(m.a)(y())}),(function(e){return e.mode===r.TARGET_NODE_MODE&&Object(m.a)(j())}),(function(e){var n=e.mode,t=e.pathIndex;return n===r.PATH_NODE_MODE&&Object(m.a)(T(),60*(t||0))})),k=function(e,n,t){n.forEach((function(n){return e.addEventListener(n,t,!1)}))};function L(){var e=Object(d.a)(["\n  width: 100%;\n  height: 100%;\n  white-space: pre;\n  user-select: none;\n"]);return L=function(){return e},e}var R=m.b.section(L());function w(){var e=Object(d.a)(["\n  margin-top: -0.25rem;\n"]);return w=function(){return e},e}var S=m.b.div(w()),C=t(135),F=t(151),I=t(153),P=t(150),G=t(149),B=t(73),H=t.n(B),U=t(74),q=t.n(U),z=t(70),J=t.n(z),V=t(71),W=t.n(V),$=t(72),K=t.n($),Q=t(141),X=t(148),Y=t(144),Z=t(143),ee=t(142),ne=t(145),te=t(138),re=t(139),ae=t(140),oe=t(51),ce=t(68),ie=t.n(ce),ue=t(152),le=Object(C.a)((function(e){return Object(F.a)({appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}})})),se=c.a.forwardRef((function(e,n){return c.a.createElement(ue.a,Object.assign({direction:"up",ref:n},e))})),Ee=function(e){var n=e.open,t=e.setOpen,r=e.options,a=(e.setOptions,le()),o=function(){t(!1)};return c.a.createElement(X.a,{fullScreen:!0,open:n,onClose:o,TransitionComponent:se},c.a.createElement(te.a,{className:a.appBar},c.a.createElement(re.a,null,c.a.createElement(ae.a,{edge:"start",color:"inherit",onClick:o,"aria-label":"close"},c.a.createElement(ie.a,null)),c.a.createElement(oe.a,{variant:"h6",className:a.title},"React Pathing Options"),c.a.createElement(Q.a,{autoFocus:!0,color:"inherit",onClick:o},"save"))),c.a.createElement(ee.a,null,c.a.createElement(Z.a,{button:!0},c.a.createElement(Y.a,{primary:"Pather",secondary:r.pather})),c.a.createElement(ne.a,null)))},fe={pather:"dijkstra"},Oe=Object(C.a)((function(e){return Object(F.a)({speedDial:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}})})),de=function(e){e.mode;var n=e.setMode,t=e.runPather,a=Oe(),o=c.a.useState(!1),i=Object(f.a)(o,2),u=i[0],l=i[1],s=c.a.useState(!1),E=Object(f.a)(s,2),O=E[0],d=E[1],m=c.a.useState(fe),p=Object(f.a)(m,2),h=p[0],D=p[1],b=[{icon:c.a.createElement(J.a,null),name:"Run ".concat(h.pather),onClick:function(){return t(h.pather)}},{icon:c.a.createElement(W.a,null),name:"Place target node",onClick:function(){return n(r.TARGET_NODE_MODE)}},{icon:c.a.createElement(K.a,null),name:"Options",onClick:function(){return d(!0)}}],_=function(){l(!1)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ee,{open:O,setOpen:d,options:h,setOptions:D}),c.a.createElement(I.a,{ariaLabel:"SpeedDial openIcon example",className:a.speedDial,icon:c.a.createElement(P.a,{icon:c.a.createElement(H.a,null),openIcon:c.a.createElement(q.a,null)}),onClose:_,onOpen:function(){l(!0)},open:u},b.map((function(e){return c.a.createElement(G.a,{key:e.name,icon:e.icon,tooltipTitle:e.name,onClick:function(){_(),e.onClick()}})}))))},me=t(24),pe=t.n(me),he=function(e,n,t){var r=n.x,a=n.y,o=n.index,c=n.mode,i=t||h[c];return e((function(e){var n=pe()(e);return n[r][a]={x:r,y:a,index:void 0===o?n[r][a].index:o,mode:i},n})),i},De=t(54),be=function(e,n){var t,a,o=e.flat();if(o.length>1){if(t=o.find((function(e){return e.mode===r.START_NODE_MODE})),a=o.find((function(e){return e.mode===r.TARGET_NODE_MODE})),!t){var c={x:Math.floor(Math.random()*e.length),y:Math.floor(Math.random()*e[0].length)};t=Object(De.a)({},e[c.x][c.y],{},c,{mode:r.START_NODE_MODE})}if(!a){for(var i={x:Math.floor(Math.random()*e.length),y:Math.floor(Math.random()*e[0].length)};t&&t.x===i.x&&t.y===i.y;)i.x=Math.floor(Math.random()*e.length),i.y=Math.floor(Math.random()*e[0].length);a=Object(De.a)({},e[i.x][i.y],{},i,{mode:r.TARGET_NODE_MODE})}var u=pe()(e);u[t.x][t.y]=t,u[a.x][a.y]=a,n(u)}return{startNode:t,targetNode:a}},_e=function(e){var n=pe()(e);return e.flat().filter((function(e){return e.mode===r.PATH_NODE_MODE})).forEach((function(e){var t=e.x,a=e.y,o=e.index;n[t][a]={x:t,y:a,index:o,mode:r.CLEAR_MODE}})),n},Me=t(76),ve=t(77),ge=function(){function e(){Object(Me.a)(this,e),this.collection=void 0,this.collection=[]}return Object(ve.a)(e,[{key:"enqueue",value:function(e){if(this.isEmpty())this.collection.push(e);else{for(var n=!1,t=1;t<=this.collection.length;t++)if(e[1]<this.collection[t-1][1]){this.collection.splice(t-1,0,e),n=!0;break}n||this.collection.push(e)}}},{key:"dequeue",value:function(){return this.collection.shift()}},{key:"isEmpty",value:function(){return 0===this.collection.length}}]),e}(),Te=function(e){return!(!e||e.mode===r.FILL_MODE)&&e},je=function(e,n,t){var r=e.x,a=e.y;return[t.has(n[r][a-1])&&Te(n[r][a-1]),n[r+1]&&t.has(n[r+1][a])&&Te(n[r+1][a]),t.has(n[r][a+1])&&Te(n[r][a+1]),n[r-1]&&t.has(n[r-1][a])&&Te(n[r-1][a])].filter(Boolean)},ye={dijkstra:function(e){var n=e.startNode,t=e.endNode,r=e.grid,a=r.flat(),o=new Set(a),c=a.map((function(e){return e.index===n.index?0:1/0})),i=new Map,u=new ge;u.enqueue([n,0]);for(var l=function(){var e=u.dequeue()[0];if(i.has(t)||!o.has(e))return"break";je(e,r,o).forEach((function(n){var t=c[e.index]+1;t<c[n.index]&&(c[n.index]=t,i.set(n,e),u.enqueue([n,t]),o.delete(e))}))};!u.isEmpty();){if("break"===l())break}for(var s=[t],E=t;E.index!==n.index;){var f=i.get(E);if(!f)break;s.unshift(f),E=f}return s}},xe=function(e,n,t,a){return t&&a&&n((function(n){var o=ye[e]({startNode:t,endNode:a,grid:n}),c=pe()(_e(n)),i=0;return o.shift(),o.pop(),o.filter(Boolean).forEach((function(e){var t=e.x,a=e.y,o=e.index;c[t][a]={x:t,y:a,index:o,pathIndex:n[t][a].mode===r.PATH_NODE_MODE?0:i++,mode:r.PATH_NODE_MODE}})),c}))},Ae=function(e){var n=e.grid,t=e.setGrid,a=e.mainElement,i=Object(o.useState)(!1),u=Object(f.a)(i,2),l=u[0],O=u[1],d=Object(o.useState)(r.DEFAULT_NODE_MODE),m=Object(f.a)(d,2),p=m[0],_=m[1];Object(o.useEffect)((function(){a&&(k(a,["mousedown","touchstart"],(function(){return O(!0)})),k(a,["mouseup","touchend"],(function(){O(!1),_(r.DEFAULT_NODE_MODE)})))}),[a]);var M=n.flat(),v=M.find((function(e){return e.mode===r.START_NODE_MODE})),g=M.find((function(e){return e.mode===r.TARGET_NODE_MODE}));return Object(o.useEffect)((function(){v||g||be(n,t)}),[n,t]),c.a.createElement(R,null,n&&n.map((function(e,n){return c.a.createElement(S,{key:n},e.map((function(e){return c.a.createElement(N,Object.assign({},e,{key:e.index,onMouseDown:function(){return _(he(t,e,p===r.DEFAULT_NODE_MODE?h[e.mode]:p))},onMouseEnter:Object(E.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",l&&he(t,e,D.includes(p)&&p));case 1:case"end":return n.stop()}}),n)}))),onMouseLeave:Object(E.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",l&&b.includes(p)&&he(t,e,r.CLEAR_MODE));case 1:case"end":return n.stop()}}),n)})))}))})))})),c.a.createElement(de,{mode:p,setMode:_,runPather:function(e){xe(e,t,v,g)}}))},Ne=function(e){return e?parseFloat(getComputedStyle(e).fontSize):16},ke=function(e){return 4*Ne(e)*2},Le=function(e){return e?Promise.resolve({mainElementStyle:window.getComputedStyle(e),dimensionOffset:ke(e)}).then((function(e){var n=e.mainElementStyle,t=e.dimensionOffset;return[parseInt(n.getPropertyValue("width"))-t,parseInt(n.getPropertyValue("height"))-t]})):Promise.resolve([0,0])},Re=t(79),we=function(e){return Object(Re.a)(Array(e)).map((function(e,n){return n}))},Se=function(){var e=Object(E.a)(s.a.mark((function e(n){var t,a,o,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(n);case 2:return t=e.sent,a=Ne(n),o=2*a,c=Math.ceil(t[1]/o),i=Math.ceil(t[0]/o),e.abrupt("return",we(c).map((function(e){return we(i).map((function(n){return{x:e,y:n,index:e*i+n,mode:r.CLEAR_MODE}}))})));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ce=document.getElementById("root"),Fe=function(){var e=Object(o.useState)([[]]),n=Object(f.a)(e,2),t=n[0],r=n[1];return Object(o.useEffect)((function(){(function(){var e=Object(E.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,Se(Ce);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),c.a.createElement(O.a,{theme:M},c.a.createElement(g,null,c.a.createElement(Ae,{grid:t,setGrid:Object(o.useCallback)(r,[Ce]),mainElement:Ce})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(98);u.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[86,1,2]]]);
//# sourceMappingURL=main.77c1ff27.chunk.js.map