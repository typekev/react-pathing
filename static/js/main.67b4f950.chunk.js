(this["webpackJsonpreact-pathing"]=this["webpackJsonpreact-pathing"]||[]).push([[0],{112:function(e,n,t){e.exports=t(126)},125:function(e,n,t){},126:function(e,n,t){"use strict";t.r(n);var r,a,o,c=t(0),i=t.n(c),u=t(9),l=t.n(u),f=t(22),s=t.n(f),E=t(36),d=t(14),O=t(184),m=t(19),p=t(20),h=t(21);!function(e){e[e.FILL_MODE=1]="FILL_MODE",e[e.CLEAR_MODE=2]="CLEAR_MODE",e[e.START_NODE_MODE=3]="START_NODE_MODE",e[e.TARGET_NODE_MODE=4]="TARGET_NODE_MODE",e[e.PATH_NODE_MODE=5]="PATH_NODE_MODE",e[e.DEFAULT_NODE_MODE=6]="DEFAULT_NODE_MODE"}(r||(r={})),function(e){e.Dijkstra="Dijkstra",e.AStar="AStar"}(a||(a={}));var b=(o={},Object(h.a)(o,r.FILL_MODE,r.CLEAR_MODE),Object(h.a)(o,r.CLEAR_MODE,r.FILL_MODE),Object(h.a)(o,r.START_NODE_MODE,r.START_NODE_MODE),Object(h.a)(o,r.TARGET_NODE_MODE,r.TARGET_NODE_MODE),Object(h.a)(o,r.PATH_NODE_MODE,r.FILL_MODE),Object(h.a)(o,r.DEFAULT_NODE_MODE,r.CLEAR_MODE),o),D=[r.FILL_MODE,r.CLEAR_MODE,r.START_NODE_MODE,r.TARGET_NODE_MODE],v=[r.START_NODE_MODE,r.TARGET_NODE_MODE],_=t(94),g=Object(_.a)({palette:{primary:{main:"#c1dfff",dark:"#90adcc",light:"#f4ffff"},secondary:{main:"#fff869",light:"#ffff9b",dark:"#c9c536"},error:{main:"#db2624"},background:{default:"#fdf9f6"}}});function M(){var e=Object(m.a)(["\n  width: calc(100% - ","rem);\n  height: calc(100% - ","rem);\n  padding: ","rem;\n  background-color: ",";\n"]);return M=function(){return e},e}var j=p.b.main(M(),8,8,4,g.palette.background.default),x=t(8);function T(){var e=Object(m.a)(["\n      transition-delay: ","ms;\n      background-color: ",";\n      color: "," ;\n    "]);return T=function(){return e},e}function y(){var e=Object(m.a)(["\n      background-color: "," ;\n      color: ","} ;\n    "]);return y=function(){return e},e}function k(){var e=Object(m.a)(["\n      background-color: ",";\n      color: "," ;\n    "]);return k=function(){return e},e}function A(){var e=Object(m.a)(["\n      background-color: "," ;\n      color: "," ;\n    "]);return A=function(){return e},e}function N(){var e=Object(m.a)(["\n  display: inline-block;\n  width: ","em;\n  height: ","em;\n  transition-property: background-color border-color;\n  transition-duration: 100ms;\n  transition-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);\n  background-color: transparent;\n  box-shadow: 0px 0px 0px 0.5px;\n  color: "," ;\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n"]);return N=function(){return e},e}var L,w=p.b.div(N(),2,2,Object(x.c)(g.palette.secondary.contrastText,.4),(function(e){return e.mode===r.FILL_MODE&&Object(p.a)(A(),g.palette.secondary.contrastText,Object(x.c)(g.palette.secondary.contrastText,.5))}),(function(e){return e.mode===r.START_NODE_MODE&&Object(p.a)(k(),g.palette.primary.dark,g.palette.primary.dark)}),(function(e){return e.mode===r.TARGET_NODE_MODE&&Object(p.a)(y(),g.palette.error.main,g.palette.error.main)}),(function(e){var n=e.mode,t=e.pathIndex;return n===r.PATH_NODE_MODE&&Object(p.a)(T(),60*(t||0),g.palette.primary.main,g.palette.primary.dark)})),R=t(30),S=t.n(R),C=function(e){var n=S()(e);return e.flat().filter((function(e){return e.mode===r.PATH_NODE_MODE})).forEach((function(e){var t=e.x,a=e.y,o=e.index;n[t][a]={x:t,y:a,index:o,mode:r.CLEAR_MODE}})),n},F=t(81),I=t(82),P=function(){function e(){Object(F.a)(this,e),this.collection=void 0,this.collection=[]}return Object(I.a)(e,[{key:"enqueue",value:function(e){if(this.isEmpty())this.collection.push(e);else{for(var n=!1,t=1;t<=this.collection.length;t++)if(e[1]<this.collection[t-1][1]){this.collection.splice(t-1,0,e),n=!0;break}n||this.collection.push(e)}}},{key:"dequeue",value:function(){return this.collection.shift()}},{key:"isEmpty",value:function(){return 0===this.collection.length}}]),e}(),G=function(e){return!(!e||e.mode===r.FILL_MODE)&&e},B=function(e,n,t){var r=e.x,a=e.y;return[t.has(n[r][a-1])&&G(n[r][a-1]),n[r+1]&&t.has(n[r+1][a])&&G(n[r+1][a]),t.has(n[r][a+1])&&G(n[r][a+1]),n[r-1]&&t.has(n[r-1][a])&&G(n[r-1][a])].filter(Boolean)},H=function(e){var n=e.startNode,t=e.endNode,r=e.grid,a=r.flat(),o=new Set(a),c=a.map((function(e){return e.index===n.index?0:1/0})),i=new Map,u=new P;u.enqueue([n,0]);for(var l=function(){var e=u.dequeue(),n=Object(d.a)(e,2),a=n[0],l=n[1];if(i.has(t)||!o.has(a))return"break";B(a,r,o).forEach((function(e){var n=l+1;n<c[e.index]&&(c[e.index]=n,i.set(e,a),u.enqueue([e,n]),o.delete(a))}))};!u.isEmpty();){if("break"===l())break}for(var f=[t],s=t;s.index!==n.index;){var E=i.get(s);if(!E)break;f.unshift(E),s=E}return f},U=(L={},Object(h.a)(L,a.Dijkstra,H),Object(h.a)(L,a.AStar,H),L),q=function(e,n,t,a){return t&&a&&n((function(n){var o=U[e]({startNode:t,endNode:a,grid:n}),c=S()(C(n)),i=0;return o.shift(),o.pop(),o.filter(Boolean).forEach((function(e){var t=e.x,a=e.y,o=e.index;c[t][a]={x:t,y:a,index:o,pathIndex:n[t][a].mode===r.PATH_NODE_MODE?0:i++,mode:r.PATH_NODE_MODE}})),c}))},W=function(e,n,t){n.forEach((function(n){return e.addEventListener(n,t,!1)}))};function V(){var e=Object(m.a)(["\n  width: 100%;\n  height: 100%;\n  width: fit-content;\n  height: fit-content;\n  white-space: pre;\n  user-select: none;\n  \n  @media screen and (-webkit-min-device-pixel-ratio:0) {\n      box-shadow: 0 3px 4px 0 rgba(0,0,0,0.14), 0 3px 3px -2px rgba(0,0,0,0.12), 0 1px 8px 0 rgba(0,0,0,0.20);\n}\n"]);return V=function(){return e},e}var z=p.b.section(V());function J(){var e=Object(m.a)(["\n  height: ","em;\n"]);return J=function(){return e},e}var $=p.b.div(J(),2),K=t(175),Q=t(190),X=t(191),Y=t(192),Z=t(193),ee=t(92),ne=t.n(ee),te=t(93),re=t.n(te),ae=t(89),oe=t.n(ae),ce=t(90),ie=t.n(ce),ue=t(91),le=t.n(ue),fe=t(179),se=t(189),Ee=t(181),de=t(180),Oe=t(174),me=t(182),pe=t(177),he=t(178),be=t(172),De=t(64),ve=t(186),_e=t(87),ge=t.n(_e),Me=t(88),je=t.n(Me),xe=t(176),Te=t(48),ye=t(185),ke=t(187),Ae=t(83),Ne=t.n(Ae),Le=t(84),we=t.n(Le);function Re(e){var n=e.label,t=e.options,r=e.onChange,a=e.value;return i.a.createElement(ke.a,{fullWidth:!0,options:t,getOptionLabel:function(e){return e.label},renderInput:function(e){return i.a.createElement(ye.a,Object.assign({},e,{label:n,variant:"outlined",margin:"normal"}))},renderOption:function(e,n){var t=n.inputValue,r=we()(e.label,t),a=Ne()(e.label,r);return i.a.createElement("div",null,a.map((function(e,n){return i.a.createElement("span",{key:n,style:{fontWeight:e.highlight?700:400}},e.text)})))},value:a,onChange:function(e,n){return r(n)}})}var Se,Ce=Object.entries(a).map((function(e){var n=Object(d.a)(e,2),t=n[0];return{label:n[1],value:t}})),Fe=function(e){var n=e.options,t=e.setOptions;return i.a.createElement(Re,{label:"Select a path finding algorithm",options:Ce,value:Ce.find((function(e){return e.value===n.pather})),onChange:function(e){return t(Object(Te.a)({},n,{pather:(null===e||void 0===e?void 0:e.value)||n.pather}))}})},Ie=Object(K.a)((function(e){return Object(Q.a)({appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}})})),Pe=i.a.forwardRef((function(e,n){return i.a.createElement(xe.a,Object.assign({direction:"up",ref:n},e))}));!function(e){e[e.pather=0]="pather"}(Se||(Se={}));var Ge=function(e){var n=e.open,t=e.setOpen,r=e.options,a=e.setOptions,o=Ie(),u=Object(c.useState)(r),l=Object(d.a)(u,2),f=l[0],s=l[1],E=Object(c.useState)(),O=Object(d.a)(E,2),m=O[0],p=O[1],h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||s(r),p(void 0),t(!1)};return i.a.createElement(se.a,{fullScreen:!0,open:n,onClose:function(){return h()},TransitionComponent:Pe},i.a.createElement(pe.a,{className:o.appBar},i.a.createElement(he.a,null,void 0===m?i.a.createElement(be.a,{edge:"start",color:"inherit",onClick:function(){return h()},"aria-label":"close"},i.a.createElement(ge.a,null)):i.a.createElement(be.a,{edge:"start",color:"inherit",onClick:function(){return p(void 0)},"aria-label":"back"},i.a.createElement(je.a,null)),i.a.createElement(De.a,{variant:"h6",className:o.title},"Options"),i.a.createElement(fe.a,{autoFocus:!0,color:"inherit",onClick:function(){a(f),console.log(f),h(!0)}},"save"))),void 0===m&&i.a.createElement(Oe.a,null,i.a.createElement(de.a,{button:!0,onClick:function(){return p(Se.pather)}},i.a.createElement(Ee.a,{primary:"Pather",secondary:f.pather})),i.a.createElement(me.a,null)),i.a.createElement(ve.a,{py:2,px:3},m===Se.pather&&i.a.createElement(Fe,{options:f,setOptions:s})))},Be={pather:a.Dijkstra},He=Object(K.a)((function(e){return Object(Q.a)({speedDial:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}})})),Ue=function(e){e.mode;var n=e.setMode,t=e.runPather,a=He(),o=i.a.useState(!1),c=Object(d.a)(o,2),u=c[0],l=c[1],f=i.a.useState(!1),s=Object(d.a)(f,2),E=s[0],O=s[1],m=i.a.useState(Be),p=Object(d.a)(m,2),h=p[0],b=p[1],D=[{icon:i.a.createElement(oe.a,null),name:"Run ".concat(h.pather),onClick:function(){return t(h.pather)}},{icon:i.a.createElement(ie.a,null),name:"Place target node",onClick:function(){return n(r.TARGET_NODE_MODE)}},{icon:i.a.createElement(le.a,null),name:"Options",onClick:function(){return O(!0)}}],v=function(){l(!1)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ge,{open:E,setOpen:O,options:h,setOptions:b}),i.a.createElement(X.a,{ariaLabel:"SpeedDial openIcon example",className:a.speedDial,icon:i.a.createElement(Y.a,{icon:i.a.createElement(ne.a,null),openIcon:i.a.createElement(re.a,null)}),onClose:v,onOpen:function(){l(!0)},open:u},D.map((function(e){return i.a.createElement(Z.a,{key:e.name,icon:e.icon,tooltipTitle:e.name,onClick:function(){v(),e.onClick()}})}))))},qe=function(e,n,t){var r=n.x,a=n.y,o=n.index,c=n.mode,i=t||b[c];return e((function(e){var n=S()(e);return n[r][a]={x:r,y:a,index:void 0===o?n[r][a].index:o,mode:i},n})),i},We=function(e,n){var t,a,o=e.flat();if(o.length>1){if(t=o.find((function(e){return e.mode===r.START_NODE_MODE})),a=o.find((function(e){return e.mode===r.TARGET_NODE_MODE})),!t){var c={x:Math.floor(Math.random()*e.length),y:Math.floor(Math.random()*e[0].length)};t=Object(Te.a)({},e[c.x][c.y],{},c,{mode:r.START_NODE_MODE})}if(!a){for(var i={x:Math.floor(Math.random()*e.length),y:Math.floor(Math.random()*e[0].length)};t&&t.x===i.x&&t.y===i.y;)i.x=Math.floor(Math.random()*e.length),i.y=Math.floor(Math.random()*e[0].length);a=Object(Te.a)({},e[i.x][i.y],{},i,{mode:r.TARGET_NODE_MODE})}var u=S()(e);u[t.x][t.y]=t,u[a.x][a.y]=a,n(u)}return{startNode:t,targetNode:a}},Ve=function(e){var n=e.grid,t=e.setGrid,a=e.mainElement,o=Object(c.useState)(!1),u=Object(d.a)(o,2),l=u[0],f=u[1],O=Object(c.useState)(r.DEFAULT_NODE_MODE),m=Object(d.a)(O,2),p=m[0],h=m[1];Object(c.useEffect)((function(){a&&(W(a,["mousedown","touchstart"],(function(){return f(!0)})),W(a,["mouseup","touchend"],(function(){f(!1),h(r.DEFAULT_NODE_MODE)})))}),[a]);var _=n.flat(),g=_.find((function(e){return e.mode===r.START_NODE_MODE})),M=_.find((function(e){return e.mode===r.TARGET_NODE_MODE}));return Object(c.useEffect)((function(){g||M||We(n,t)}),[n,t]),i.a.createElement(z,null,n&&n.map((function(e,n){return i.a.createElement($,{key:n},e.map((function(e){return i.a.createElement(w,Object.assign({},e,{key:e.index,onMouseDown:function(){return h(qe(t,e,p===r.DEFAULT_NODE_MODE?b[e.mode]:p))},onMouseEnter:Object(E.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",l&&qe(t,e,D.includes(p)&&p));case 1:case"end":return n.stop()}}),n)}))),onMouseLeave:Object(E.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",l&&v.includes(p)&&qe(t,e,r.CLEAR_MODE));case 1:case"end":return n.stop()}}),n)})))}))})))})),i.a.createElement(Ue,{mode:p,setMode:h,runPather:function(e){q(e,t,g,M)}}))},ze=function(e){return e?parseFloat(getComputedStyle(e).fontSize):16},Je=function(e){return 4*ze(e)*2},$e=function(e){return e?Promise.resolve({mainElementStyle:window.getComputedStyle(e),dimensionOffset:Je(e)}).then((function(e){var n=e.mainElementStyle,t=e.dimensionOffset;return[parseInt(n.getPropertyValue("width"))-t,parseInt(n.getPropertyValue("height"))-t]})):Promise.resolve([0,0])},Ke=t(95),Qe=function(e){return Object(Ke.a)(Array(e)).map((function(e,n){return n}))},Xe=function(){var e=Object(E.a)(s.a.mark((function e(n){var t,a,o,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e(n);case 2:return t=e.sent,a=ze(n),o=2*a,c=Math.ceil(t[1]/o),i=Math.ceil(t[0]/o),e.abrupt("return",Qe(c).map((function(e){return Qe(i).map((function(n){return{x:e,y:n,index:e*i+n,mode:r.CLEAR_MODE}}))})));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ye=document.getElementById("root"),Ze=function(){var e=Object(c.useState)([[]]),n=Object(d.a)(e,2),t=n[0],r=n[1];return Object(c.useEffect)((function(){(function(){var e=Object(E.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,Xe(Ye);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),i.a.createElement(O.a,{theme:g},i.a.createElement(j,null,i.a.createElement(Ve,{grid:t,setGrid:Object(c.useCallback)(r,[Ye]),mainElement:Ye})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(125);l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[112,1,2]]]);
//# sourceMappingURL=main.67b4f950.chunk.js.map